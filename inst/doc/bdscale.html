<!DOCTYPE html>

<html xmlns="http://www.w3.org/1999/xhtml">

<head>

<meta charset="utf-8">
<meta http-equiv="Content-Type" content="text/html; charset=utf-8" />
<meta name="generator" content="pandoc" />

<meta name="author" content="Dave Mills" />

<meta name="date" content="2014-11-13" />

<title>Business-Day Scaling</title>



<style type="text/css">code{white-space: pre;}</style>
<style type="text/css">
table.sourceCode, tr.sourceCode, td.lineNumbers, td.sourceCode {
  margin: 0; padding: 0; vertical-align: baseline; border: none; }
table.sourceCode { width: 100%; line-height: 100%; }
td.lineNumbers { text-align: right; padding-right: 4px; padding-left: 4px; color: #aaaaaa; border-right: 1px solid #aaaaaa; }
td.sourceCode { padding-left: 5px; }
code > span.kw { color: #007020; font-weight: bold; }
code > span.dt { color: #902000; }
code > span.dv { color: #40a070; }
code > span.bn { color: #40a070; }
code > span.fl { color: #40a070; }
code > span.ch { color: #4070a0; }
code > span.st { color: #4070a0; }
code > span.co { color: #60a0b0; font-style: italic; }
code > span.ot { color: #007020; }
code > span.al { color: #ff0000; font-weight: bold; }
code > span.fu { color: #06287e; }
code > span.er { color: #ff0000; font-weight: bold; }
</style>
<style type="text/css">
  pre:not([class]) {
    background-color: white;
  }
</style>


<link href="data:text/css,body%20%7B%0A%20%20background%2Dcolor%3A%20%23fff%3B%0A%20%20margin%3A%201em%20auto%3B%0A%20%20max%2Dwidth%3A%20700px%3B%0A%20%20overflow%3A%20visible%3B%0A%20%20padding%2Dleft%3A%202em%3B%0A%20%20padding%2Dright%3A%202em%3B%0A%20%20font%2Dfamily%3A%20%22Open%20Sans%22%2C%20%22Helvetica%20Neue%22%2C%20Helvetica%2C%20Arial%2C%20sans%2Dserif%3B%0A%20%20font%2Dsize%3A%2014px%3B%0A%20%20line%2Dheight%3A%201%2E35%3B%0A%7D%0A%0A%23header%20%7B%0A%20%20text%2Dalign%3A%20center%3B%0A%7D%0A%0A%23TOC%20%7B%0A%20%20clear%3A%20both%3B%0A%20%20margin%3A%200%200%2010px%2010px%3B%0A%20%20padding%3A%204px%3B%0A%20%20width%3A%20400px%3B%0A%20%20border%3A%201px%20solid%20%23CCCCCC%3B%0A%20%20border%2Dradius%3A%205px%3B%0A%0A%20%20background%2Dcolor%3A%20%23f6f6f6%3B%0A%20%20font%2Dsize%3A%2013px%3B%0A%20%20line%2Dheight%3A%201%2E3%3B%0A%7D%0A%20%20%23TOC%20%2Etoctitle%20%7B%0A%20%20%20%20font%2Dweight%3A%20bold%3B%0A%20%20%20%20font%2Dsize%3A%2015px%3B%0A%20%20%20%20margin%2Dleft%3A%205px%3B%0A%20%20%7D%0A%0A%20%20%23TOC%20ul%20%7B%0A%20%20%20%20padding%2Dleft%3A%2040px%3B%0A%20%20%20%20margin%2Dleft%3A%20%2D1%2E5em%3B%0A%20%20%20%20margin%2Dtop%3A%205px%3B%0A%20%20%20%20margin%2Dbottom%3A%205px%3B%0A%20%20%7D%0A%20%20%23TOC%20ul%20ul%20%7B%0A%20%20%20%20margin%2Dleft%3A%20%2D2em%3B%0A%20%20%7D%0A%20%20%23TOC%20li%20%7B%0A%20%20%20%20line%2Dheight%3A%2016px%3B%0A%20%20%7D%0A%0Atable%20%7B%0A%20%20margin%3A%201em%20auto%3B%0A%20%20border%2Dwidth%3A%201px%3B%0A%20%20border%2Dcolor%3A%20%23DDDDDD%3B%0A%20%20border%2Dstyle%3A%20outset%3B%0A%20%20border%2Dcollapse%3A%20collapse%3B%0A%7D%0Atable%20th%20%7B%0A%20%20border%2Dwidth%3A%202px%3B%0A%20%20padding%3A%205px%3B%0A%20%20border%2Dstyle%3A%20inset%3B%0A%7D%0Atable%20td%20%7B%0A%20%20border%2Dwidth%3A%201px%3B%0A%20%20border%2Dstyle%3A%20inset%3B%0A%20%20line%2Dheight%3A%2018px%3B%0A%20%20padding%3A%205px%205px%3B%0A%7D%0Atable%2C%20table%20th%2C%20table%20td%20%7B%0A%20%20border%2Dleft%2Dstyle%3A%20none%3B%0A%20%20border%2Dright%2Dstyle%3A%20none%3B%0A%7D%0Atable%20thead%2C%20table%20tr%2Eeven%20%7B%0A%20%20background%2Dcolor%3A%20%23f7f7f7%3B%0A%7D%0A%0Ap%20%7B%0A%20%20margin%3A%200%2E5em%200%3B%0A%7D%0A%0Ablockquote%20%7B%0A%20%20background%2Dcolor%3A%20%23f6f6f6%3B%0A%20%20padding%3A%200%2E25em%200%2E75em%3B%0A%7D%0A%0Ahr%20%7B%0A%20%20border%2Dstyle%3A%20solid%3B%0A%20%20border%3A%20none%3B%0A%20%20border%2Dtop%3A%201px%20solid%20%23777%3B%0A%20%20margin%3A%2028px%200%3B%0A%7D%0A%0Adl%20%7B%0A%20%20margin%2Dleft%3A%200%3B%0A%7D%0A%20%20dl%20dd%20%7B%0A%20%20%20%20margin%2Dbottom%3A%2013px%3B%0A%20%20%20%20margin%2Dleft%3A%2013px%3B%0A%20%20%7D%0A%20%20dl%20dt%20%7B%0A%20%20%20%20font%2Dweight%3A%20bold%3B%0A%20%20%7D%0A%0Aul%20%7B%0A%20%20margin%2Dtop%3A%200%3B%0A%7D%0A%20%20ul%20li%20%7B%0A%20%20%20%20list%2Dstyle%3A%20circle%20outside%3B%0A%20%20%7D%0A%20%20ul%20ul%20%7B%0A%20%20%20%20margin%2Dbottom%3A%200%3B%0A%20%20%7D%0A%0Apre%2C%20code%20%7B%0A%20%20background%2Dcolor%3A%20%23f7f7f7%3B%0A%20%20border%2Dradius%3A%203px%3B%0A%20%20color%3A%20%23333%3B%0A%7D%0Apre%20%7B%0A%20%20white%2Dspace%3A%20pre%2Dwrap%3B%20%20%20%20%2F%2A%20Wrap%20long%20lines%20%2A%2F%0A%20%20border%2Dradius%3A%203px%3B%0A%20%20margin%3A%205px%200px%2010px%200px%3B%0A%20%20padding%3A%2010px%3B%0A%7D%0Apre%3Anot%28%5Bclass%5D%29%20%7B%0A%20%20background%2Dcolor%3A%20%23f7f7f7%3B%0A%7D%0A%0Acode%20%7B%0A%20%20font%2Dfamily%3A%20Consolas%2C%20Monaco%2C%20%27Courier%20New%27%2C%20monospace%3B%0A%20%20font%2Dsize%3A%2085%25%3B%0A%7D%0Ap%20%3E%20code%2C%20li%20%3E%20code%20%7B%0A%20%20padding%3A%202px%200px%3B%0A%7D%0A%0Adiv%2Efigure%20%7B%0A%20%20text%2Dalign%3A%20center%3B%0A%7D%0Aimg%20%7B%0A%20%20background%2Dcolor%3A%20%23FFFFFF%3B%0A%20%20padding%3A%202px%3B%0A%20%20border%3A%201px%20solid%20%23DDDDDD%3B%0A%20%20border%2Dradius%3A%203px%3B%0A%20%20border%3A%201px%20solid%20%23CCCCCC%3B%0A%20%20margin%3A%200%205px%3B%0A%7D%0A%0Ah1%20%7B%0A%20%20margin%2Dtop%3A%200%3B%0A%20%20font%2Dsize%3A%2035px%3B%0A%20%20line%2Dheight%3A%2040px%3B%0A%7D%0A%0Ah2%20%7B%0A%20%20border%2Dbottom%3A%204px%20solid%20%23f7f7f7%3B%0A%20%20padding%2Dtop%3A%2010px%3B%0A%20%20padding%2Dbottom%3A%202px%3B%0A%20%20font%2Dsize%3A%20145%25%3B%0A%7D%0A%0Ah3%20%7B%0A%20%20border%2Dbottom%3A%202px%20solid%20%23f7f7f7%3B%0A%20%20padding%2Dtop%3A%2010px%3B%0A%20%20font%2Dsize%3A%20120%25%3B%0A%7D%0A%0Ah4%20%7B%0A%20%20border%2Dbottom%3A%201px%20solid%20%23f7f7f7%3B%0A%20%20margin%2Dleft%3A%208px%3B%0A%20%20font%2Dsize%3A%20105%25%3B%0A%7D%0A%0Ah5%2C%20h6%20%7B%0A%20%20border%2Dbottom%3A%201px%20solid%20%23ccc%3B%0A%20%20font%2Dsize%3A%20105%25%3B%0A%7D%0A%0Aa%20%7B%0A%20%20color%3A%20%230033dd%3B%0A%20%20text%2Ddecoration%3A%20none%3B%0A%7D%0A%20%20a%3Ahover%20%7B%0A%20%20%20%20color%3A%20%236666ff%3B%20%7D%0A%20%20a%3Avisited%20%7B%0A%20%20%20%20color%3A%20%23800080%3B%20%7D%0A%20%20a%3Avisited%3Ahover%20%7B%0A%20%20%20%20color%3A%20%23BB00BB%3B%20%7D%0A%20%20a%5Bhref%5E%3D%22http%3A%22%5D%20%7B%0A%20%20%20%20text%2Ddecoration%3A%20underline%3B%20%7D%0A%20%20a%5Bhref%5E%3D%22https%3A%22%5D%20%7B%0A%20%20%20%20text%2Ddecoration%3A%20underline%3B%20%7D%0A%0A%2F%2A%20Class%20described%20in%20https%3A%2F%2Fbenjeffrey%2Ecom%2Fposts%2Fpandoc%2Dsyntax%2Dhighlighting%2Dcss%0A%20%20%20Colours%20from%20https%3A%2F%2Fgist%2Egithub%2Ecom%2Frobsimmons%2F1172277%20%2A%2F%0A%0Acode%20%3E%20span%2Ekw%20%7B%20color%3A%20%23555%3B%20font%2Dweight%3A%20bold%3B%20%7D%20%2F%2A%20Keyword%20%2A%2F%0Acode%20%3E%20span%2Edt%20%7B%20color%3A%20%23902000%3B%20%7D%20%2F%2A%20DataType%20%2A%2F%0Acode%20%3E%20span%2Edv%20%7B%20color%3A%20%2340a070%3B%20%7D%20%2F%2A%20DecVal%20%28decimal%20values%29%20%2A%2F%0Acode%20%3E%20span%2Ebn%20%7B%20color%3A%20%23d14%3B%20%7D%20%2F%2A%20BaseN%20%2A%2F%0Acode%20%3E%20span%2Efl%20%7B%20color%3A%20%23d14%3B%20%7D%20%2F%2A%20Float%20%2A%2F%0Acode%20%3E%20span%2Ech%20%7B%20color%3A%20%23d14%3B%20%7D%20%2F%2A%20Char%20%2A%2F%0Acode%20%3E%20span%2Est%20%7B%20color%3A%20%23d14%3B%20%7D%20%2F%2A%20String%20%2A%2F%0Acode%20%3E%20span%2Eco%20%7B%20color%3A%20%23888888%3B%20font%2Dstyle%3A%20italic%3B%20%7D%20%2F%2A%20Comment%20%2A%2F%0Acode%20%3E%20span%2Eot%20%7B%20color%3A%20%23007020%3B%20%7D%20%2F%2A%20OtherToken%20%2A%2F%0Acode%20%3E%20span%2Eal%20%7B%20color%3A%20%23ff0000%3B%20font%2Dweight%3A%20bold%3B%20%7D%20%2F%2A%20AlertToken%20%2A%2F%0Acode%20%3E%20span%2Efu%20%7B%20color%3A%20%23900%3B%20font%2Dweight%3A%20bold%3B%20%7D%20%2F%2A%20Function%20calls%20%2A%2F%20%0Acode%20%3E%20span%2Eer%20%7B%20color%3A%20%23a61717%3B%20background%2Dcolor%3A%20%23e3d2d2%3B%20%7D%20%2F%2A%20ErrorTok%20%2A%2F%0A%0A" rel="stylesheet" type="text/css" />

</head>

<body>



<div id="header">
<h1 class="title">Business-Day Scaling</h1>
<h4 class="author"><em>Dave Mills</em></h4>
<h4 class="date"><em>2014-11-13</em></h4>
</div>


<p>When graphing financial data, I prefer a continuous axis scale where weekends and holidays don’t exist. Did the price remain unchanged for three days, or am I looking at labor-day weekend?</p>
<div id="create-sample-data" class="section level2">
<h2>Create sample data</h2>
<p>Ask Yahoo Finance for S&amp;P prices, use those as past NYSE trading dates:</p>
<pre class="sourceCode r"><code class="sourceCode r">nyse &lt;-<span class="st"> </span><span class="kw">yahoo</span>(<span class="st">'SPY'</span>)</code></pre>
<p>Then create some fake prices, put them into a <code>data.frame</code> alongside the dates:</p>
<pre class="sourceCode r"><code class="sourceCode r"><span class="kw">set.seed</span>(<span class="dv">12345</span>)
df &lt;-<span class="st"> </span><span class="kw">data.frame</span>(<span class="dt">date=</span>nyse, <span class="dt">price=</span><span class="kw">cumsum</span>(<span class="kw">rnorm</span>(<span class="kw">length</span>(nyse))) +<span class="st"> </span><span class="dv">100</span>)
df &lt;-<span class="st"> </span><span class="kw">subset</span>(df, <span class="kw">as.Date</span>(<span class="st">'2014-08-01'</span>) &lt;=<span class="st"> </span>date &amp;<span class="st"> </span>date &lt;=<span class="st"> </span><span class="kw">as.Date</span>(<span class="st">'2014-10-08'</span>))</code></pre>
<table>
<thead>
<tr class="header">
<th align="left"></th>
<th align="left">date</th>
<th align="right">price</th>
</tr>
</thead>
<tbody>
<tr class="odd">
<td align="left">5460</td>
<td align="left">2014-10-02</td>
<td align="right">66.36</td>
</tr>
<tr class="even">
<td align="left">5461</td>
<td align="left">2014-10-03</td>
<td align="right">64.64</td>
</tr>
<tr class="odd">
<td align="left">5462</td>
<td align="left">2014-10-06</td>
<td align="right">62.24</td>
</tr>
<tr class="even">
<td align="left">5463</td>
<td align="left">2014-10-07</td>
<td align="right">62.21</td>
</tr>
<tr class="odd">
<td align="left">5464</td>
<td align="left">2014-10-08</td>
<td align="right">63.55</td>
</tr>
</tbody>
</table>
</div>
<div id="plot-on-a-standard-calendar-day-axis" class="section level2">
<h2>Plot on a standard calendar-day axis:</h2>
<p>Create a plot:</p>
<pre class="sourceCode r"><code class="sourceCode r">plot &lt;-<span class="st"> </span><span class="kw">ggplot</span>(df, <span class="kw">aes</span>(<span class="dt">x=</span>date, <span class="dt">y=</span>price)) +<span class="st"> </span><span class="kw">geom_step</span>() +<span class="st"> </span>
<span class="st">  </span><span class="kw">theme</span>(<span class="dt">axis.title.x=</span><span class="kw">element_blank</span>(), <span class="dt">axis.title.y=</span><span class="kw">element_blank</span>())</code></pre>
<p>Note the large gap at the beginning of September, because Labor Day was on the 1st:</p>
<pre class="sourceCode r"><code class="sourceCode r">plot +<span class="st"> </span><span class="kw">ggtitle</span>(<span class="st">'calendar dates'</span>)</code></pre>
<p><img src="data:image/png;base64,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" alt="plot of chunk unnamed-chunk-6" /></p>
</div>
<div id="plot-on-a-business-day-axis" class="section level2">
<h2>Plot on a business-day axis:</h2>
<p>Plotting against <code>scale_x_bd</code> instead removes weekends and holidays from the graph:</p>
<pre class="sourceCode r"><code class="sourceCode r">plot +<span class="st"> </span><span class="kw">scale_x_bd</span>(<span class="dt">business.dates=</span>nyse, <span class="dt">labels=</span><span class="kw">date_format</span>(<span class="st">&quot;%b '%y&quot;</span>)) +<span class="st"> </span>
<span class="st">  </span><span class="kw">ggtitle</span>(<span class="st">'business dates, month breaks'</span>)</code></pre>
<p><img src="data:image/png;base64,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" alt="plot of chunk unnamed-chunk-7" /></p>
</div>
<div id="increasing-density-of-breaks" class="section level2">
<h2>Increasing density of breaks</h2>
<p>In the previous chart, the major breaks are pretty far apart.</p>
<p>The package determined that breaks on the first trading day of each <strong>month</strong> gives me the largest number of breaks weakly less than maximum. I didn’t specify a max, so it defaulted to <code>5</code>.</p>
<p>If I tell it to use more, it can put breaks on the first day of each <strong>week</strong>:</p>
<pre class="sourceCode r"><code class="sourceCode r">plot +<span class="st"> </span><span class="kw">scale_x_bd</span>(<span class="dt">business.dates=</span>nyse, <span class="dt">max.major.breaks=</span><span class="dv">10</span>, <span class="dt">labels=</span><span class="kw">date_format</span>(<span class="st">'%d %b'</span>)) +<span class="st"> </span>
<span class="st">  </span><span class="kw">ggtitle</span>(<span class="st">'business dates, week breaks'</span>)</code></pre>
<p><img src="data:image/png;base64,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" alt="plot of chunk unnamed-chunk-8" /></p>
</div>
<div id="translating-into-business-day-space" class="section level2">
<h2>Translating into business-day space</h2>
<p>Say I wanted to put vertical lines on option expiration dates.</p>
<p>Calling <code>as.numeric(...)</code> on my dates translates them into the the number of calendar days after unix epoch, which is what <code>scale_x_date(...)</code> uses (see <code>scales:::from_date</code>):</p>
<pre class="sourceCode r"><code class="sourceCode r">options &lt;-<span class="st"> </span><span class="kw">as.Date</span>(<span class="kw">c</span>(<span class="st">'2014-08-15'</span>, <span class="st">'2014-09-19'</span>))

plot +<span class="st"> </span>
<span class="st">  </span><span class="kw">geom_vline</span>(<span class="dt">xintercept=</span><span class="kw">as.numeric</span>(options), <span class="dt">size=</span><span class="dv">2</span>, <span class="dt">alpha=</span><span class="fl">0.25</span>) +<span class="st"> </span>
<span class="st">  </span><span class="kw">ggtitle</span>(<span class="st">'calendar dates, option expiry'</span>)</code></pre>
<p><img src="data:image/png;base64,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" alt="plot of chunk unnamed-chunk-9" /></p>
<p>This doesn’t work for business-day space because the x-axis now represents the number of business days after the first date in your <code>business.dates</code> vector:</p>
<table>
<thead>
<tr class="header">
<th align="left"></th>
<th align="left"><code>scale_x_date</code></th>
<th align="left"><code>scale_x_bd</code></th>
</tr>
</thead>
<tbody>
<tr class="odd">
<td align="left">origin</td>
<td align="left">unix epoch: <code>1970-01-01</code></td>
<td align="left">first date in your <code>business.dates</code> vector</td>
</tr>
<tr class="even">
<td align="left">axis values</td>
<td align="left">number of <strong>calendar days</strong> after origin</td>
<td align="left">number of <strong>business days</strong> after origin</td>
</tr>
<tr class="odd">
<td align="left">conversion</td>
<td align="left"><code>as.numeric(...)</code></td>
<td align="left"><code>bd2t(..., business.dates)</code></td>
</tr>
</tbody>
</table>
<p>Instead, use the <code>bdscale::bd2t(...)</code> function to translate into business-day space:</p>
<pre class="sourceCode r"><code class="sourceCode r">plot +<span class="st"> </span>
<span class="st">  </span><span class="kw">geom_vline</span>(<span class="dt">xintercept=</span><span class="kw">bd2t</span>(options, <span class="dt">business.dates=</span>nyse), <span class="dt">size=</span><span class="dv">2</span>, <span class="dt">alpha=</span><span class="fl">0.25</span>) +<span class="st"> </span>
<span class="st">  </span><span class="kw">scale_x_bd</span>(<span class="dt">business.dates=</span>nyse) +
<span class="st">  </span><span class="kw">ggtitle</span>(<span class="st">'business dates, option expiry'</span>)</code></pre>
<p><img src="data:image/png;base64,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" alt="plot of chunk unnamed-chunk-10" /></p>
</div>



<!-- dynamically load mathjax for compatibility with self-contained -->
<script>
  (function () {
    var script = document.createElement("script");
    script.type = "text/javascript";
    script.src  = "https://cdn.mathjax.org/mathjax/latest/MathJax.js?config=TeX-AMS-MML_HTMLorMML";
    document.getElementsByTagName("head")[0].appendChild(script);
  })();
</script>

</body>
</html>
